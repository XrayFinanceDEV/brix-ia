---
import MainLayout from "@layouts/MainLayout.astro"
import { getEntry } from 'astro:content';

const { data }  = await getEntry('pagedata', 'about');
const { name, image, bio, socialLinks } = data;

const images = [
  { src: image, alt: "First image", text: "First Image" },
  { src: image, alt: "Second image", text: "Second Image" },
  { src: image, alt: "Third image", text: "Third Image" },
  { src: image, alt: "Fourth image", text: "Fourth Image" },
  { src: image, alt: "Fifth image", text: "Fifth Image" },
  { src: image, alt: "Sixth image", text: "Sixth Image" },
  { src: image, alt: "Seventh image", text: "Seventh Image" },
];

---

<MainLayout title={name}>
  <section class="inset-0">
    <div class="image-row">
      {/* Render the original images */}
      {images.map((img) => (
        <div class="image-container">
          <img src={img.src} alt={img.alt} class="image-item" loading="lazy" />
          <p class="image-text">{img.text}</p>
        </div>
      ))}

      {/* Render the duplicated images for seamless looping */}
      {images.map((img) => (
        <div class="image-container">
          <img src={img.src} alt={img.alt} class="image-item" loading="lazy" />
          <p class="image-text">{img.text}</p>
        </div>
      ))}
    </div>
  </section>

  <style>
    .image-row {
      display: flex; /* Flexbox layout for images in a row */
      gap: 20px; /* Space between items */
      padding: 30px;
      animation: slide 20s linear infinite; /* Animation for sliding */
      white-space: nowrap;
      width: max-content; /* Ensure the container is wide enough */
    }

    .image-container {
      display: flex;
      flex-direction: column; /* Stack image and text vertically */
      justify-content: center;
      align-items: center;
      width: 200px; /* Fixed width of the square */
      height: 200px; /* Fixed height of the square */
      border-radius: 10px; /* Rounded corners */
      overflow: hidden; /* Prevent image overflow within individual container */
      border: 2px solid #80FDBE; /* Green border */
      box-shadow: 0 0px 8px rgba(255, 255, 255, 0.5); /* Shadow effect */
      min-width: 150px; /* Ensure minimum width */
    }

    .image-item {
      width: 100%; /* Make image take full width of the container */
      height: auto; /* Adjust height to keep aspect ratio */
      object-fit: cover; /* Make the image cover the area */
    }

    .image-text {
      text-align: center; /* Centrally align text */
      padding-top: 10px; /* Space between image and text */
      font-size: 14px;
      color: #FFF; /* Dark color for the text */
    }

    @keyframes slide {
      from {
        transform: translateX(0); /* Start at the initial position */
      }
      to {
        transform: translateX(-50%); /* Move the images to the left */
      }
    }

    /* Add media query for smaller screens */
    @media (max-width: 768px) {
      .image-container {
        width: 150px; /* Adjust for smaller screens */
        height: 150px; /* Adjust height to match */
      }
    }

    @media (max-width: 480px) {
      .image-container {
        width: 120px; /* Further adjustment for mobile screens */
        height: 120px; /* Smaller size */
      }
    }
  </style>
</MainLayout>

